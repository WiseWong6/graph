Python开发宪法
# Python开发宪法
本宪法优先于所有其他Python开发实践和指导原则

## 核心原则

### I. 模块化优先
每个功能都从独立模块开始；模块必须自包含、可独立测试、有清晰的接口；遵循单一职责原则 - 不允许巨石模块

### II. Pythonic代码风格
遵循PEP 8代码规范；使用Python惯用法和最佳实践；代码应该简洁、可读、优雅；"There should be one obvious way to do it"

### III. 测试驱动开发（不可协商）
TDD强制执行：编写测试 → 实现功能 → 重构优化；pytest作为主要测试框架；测试覆盖率不低于80%

### IV. 类型安全
使用类型注解（Type Hints）；mypy静态类型检查；函数和类的参数、返回值必须有类型标注

### V. 文档优先
完整的docstring文档

## 性能标准

- **启动时间**：应用启动时间不超过2秒；模块导入时间最小化
- **内存使用**：合理的内存占用；避免内存泄漏；使用生成器处理大数据集
- **执行效率**：关键算法时间复杂度优化；使用适当的数据结构
- **并发处理**：异步编程（asyncio）；多进程/多线程合理使用
- **资源管理**：正确使用上下文管理器；及时释放文件句柄和网络连接

## 审查流程

- **代码审查**：所有代码需要同行评审；关注代码质量、性能和安全性
- **静态分析**：使用pylint、flake8、black进行代码质量检查
- **类型检查**：mypy类型检查必须通过；类型注解覆盖率检查
- **安全扫描**：bandit安全漏洞扫描；依赖包安全性检查
- **测试验证**：单元测试、集成测试、性能测试全面覆盖

## 技术规范

- **Python版本**：使用Python 3.9+；及时跟进新版本特性
- **依赖管理**：使用poetry或pipenv；requirements.txt精确版本锁定
- **代码格式化**：black自动格式化；isort导入排序
- **虚拟环境**：每个项目独立虚拟环境；避免全局包污染
- **日志记录**：使用标准logging模块；结构化日志输出

版本：1.0.0 | 最后修改：2025-09-09